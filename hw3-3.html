<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>hw3-3</title>
    <style>
      body {
        font-family: Helvetica, sans-serif;
        font-size: 1.2rem;
      }
      div {
        width: 70%;
        margin-left: auto;
        margin-right: auto;
      }

      .center {
        text-align: center;
      }

      .cards img {
        margin: 15px 20px 0;
      }
      .result {
        font-size: 1.5rem;
        color: red;
        font-weight: bold;
      }
      button {
        width: 150px;
        font-size: 1.5rem;
      }
    </style>
  </head>
  <body>
    <h1 class="center">Another Blackjack</h1>
    <div class="center">
      <div class="cards">
        <img id ="card-1" alt="card-1" height="200" src="images/cards/green_back.png" />
        <img id= "card-2" alt="card-2" height="200" src="images/cards/green_back.png" />
        <img id = "card-3" alt="card-3" height="200" src="images/cards/green_back.png" />
        <p id="result">You are Not Busted!</p>
        <button>Hit</button>
      </div>
    </div>
    <script>
    const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
    const shapes = ['c', 'D', 'H', 'S'];

    function hit(){
      let sum = 0;
      for (let i = 1; i <= 3; i++) {
        let r1 = Math.floor(Math.random() * 13);
        const r2 = Math.floor(Math.random() * 4);
        const v = values[r1];
        const s = shapes[r2];
        document.getElementById("card-" + i).src = "images/cards/" + v + s + ".png"
        if (r1 > 9){
          r1 = 10;
        }
        sum += r1 + 1;
        console.log(sum);
      }
      if (sum > 21){
        document.getElementById("result").innerHTML = "You are Busted";}
        else {
          document.getElementById("result").innerHTML = "You are Not Busted";
        }
      }
                                                                             
    document.querySelector('button').onclick = hit;    
    </script>
    <!-- You can remove the instructions below -->
    <div class="instruction">
      <p>
        In this version of Blackjack, the player always deals three cards. When
        the button is clicked, the page should be updated replacing the three
        cards with three random cards facing up. The card images for each
        value/shape are inside <em>'images/cards'</em> folder. When player's hand (the
        sum of three cards' values) exceeds 21, the paragraph above button
        should show <strong>"You are Busted!"</strong>, otherwise it should show
        <strong>
          "You are Not Busted!" </strong
        >. The value of cards two through ten is their pip value (2 through 10).
        Face cards (Jack, Queen, and King) are all worth <strong>10</strong>. To
        simplify this game, Ace is worth <strong>1</strong>.
      </p>
    </div>
  </body>
</html>